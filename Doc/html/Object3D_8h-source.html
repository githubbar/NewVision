<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>NewVision: Object3D.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.1 -->
<h1>Object3D.h</h1><div class="fragment"><pre>00001 <span class="preprocessor">#if !defined( OBJECT3D_H )</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define OBJECT3D_H</span>
00003 <span class="preprocessor"></span><span class="preprocessor">#pragma once</span>
00004 <span class="preprocessor"></span>
00005 <span class="comment">//class Comparable {</span>
00006 <span class="comment">//  virtual static int Compare(Comparable* one, Comparable* two);</span>
00007 <span class="comment">//};</span>
00008 <span class="preprocessor">#include "cv.h"</span>    
00009 
00010 <span class="keyword">class </span>CameraModel;
00011 <span class="keyword">class </span>CNewVisionDoc;
00012 
00013 <span class="keyword">class </span>Object3D : <span class="keyword">public</span> CObject {
00014 DECLARE_DYNAMIC(Object3D)
00015 <span class="keyword">public</span>:
00016     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> DOT = 2;
00017 
00018     <span class="comment">// Data fields</span>
00019     <span class="keywordtype">int</span>             depthZ;
00020     CString         label;
00021     
00022     <span class="comment">// Local pointers to external structures</span>
00023     CNewVisionDoc*  doc;
00024 
00025 
00026     <span class="keyword">virtual</span> CvPoint3D32f    GetCenter() = 0;                                      <span class="comment">// get 3D coordinates of object center        </span>
00027     <span class="keyword">virtual</span> <span class="keywordtype">double</span>          GetDistanceFromCamera() = 0;                          <span class="comment">// distance from camera center in centimeters</span>
00028     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            GetOccludedFloorArea(CvSeq* points) = 0;              <span class="comment">// get a countor of occluded floor area</span>
00029     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            DrawFloor(IplImage* frame, CvScalar color) = 0;       <span class="comment">// draw object floor projection image (OpenCV)</span>
00030     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            DrawFloor(CDC* pDC, <span class="keywordtype">int</span> ox, <span class="keywordtype">int</span> oy, CPen* pen) = 0;   <span class="comment">// draw object floor projection image (Windows DC)</span>
00031     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            DrawFrame(IplImage* frame, CvScalar color) = 0;       <span class="comment">// draw object frame projection image (OpenCV)</span>
00032     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            DrawFrame(CDC* pDC , <span class="keywordtype">int</span> ox, <span class="keywordtype">int</span> oy, CPen* pen) = 0;  <span class="comment">// draw object frame projection image (Windows DC)</span>
00033     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            RasterizeFrame(IplImage* frame, CvScalar color) = 0;  <span class="comment">// rasterize object frame projection </span>
00034     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            RasterizeFloor(IplImage* frame, CvScalar color) = 0;  <span class="comment">// rasterize object floor projection </span>
00035     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>            IsFramePointIn(CvPoint point, CvPoint3D32f&amp; pcurrent) = 0;
00036     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>            IsFloorPointIn(CvPoint point, CvPoint3D32f&amp; pcurrent) = 0;
00037     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>            Move(CvPoint3D32f p) = 0;
00038     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>            Move1(CvPoint2D32f p) = 0;
00039     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>            Move2(CvPoint2D32f p) = 0;
00040     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>            Move3(CvPoint2D32f p) = 0;
00041     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>            Move4(CvPoint2D32f p) = 0;
00042     <span class="keyword">virtual</span> <span class="keywordtype">int</span>             Compare(Object3D* that) {
00043         <span class="keywordtype">double</span> diff = this-&gt;GetDistanceFromCamera() - that-&gt;GetDistanceFromCamera();
00044         <span class="keywordflow">if</span> (diff &gt; 0)
00045             <span class="keywordflow">return</span> 1;
00046         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (diff == 0)
00047             <span class="keywordflow">return</span> 0;
00048         <span class="keywordflow">else</span> 
00049             <span class="keywordflow">return</span> -1;
00050     }; <span class="comment">// return 1 if one &gt; two; 0 if one = two; -1 otherwise</span>
00051 };
00052 
00053 <span class="keyword">class </span>Obstacle : <span class="keyword">public</span> Object3D {
00054 DECLARE_DYNAMIC(Obstacle)
00055 };
00056 <span class="comment">// --------------------------------------------------------------------------</span>
00057 <span class="keyword">template</span> &lt;&gt; <span class="keywordtype">void</span> AFXAPI SerializeElements &lt;Object3D*&gt; ( CArchive&amp; ar, Object3D** p, INT_PTR nCount );
00058 <span class="comment">// --------------------------------------------------------------------------</span>
00059 
00060 <span class="preprocessor">#endif // !defined( OBJECT3D_H )</span>
</pre></div><hr><address style="align: right;"><small>
Generated on Mon May 15 16:43:43 2006 for NewVision by <a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.3.1 using KingsTools</small></address>
</body>
</html>
