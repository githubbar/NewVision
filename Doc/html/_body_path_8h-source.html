<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>New Vision: F:/My Documents/Visual Studio 2005/Projects/NewVision/NewVision/BodyPath.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>F:/My Documents/Visual Studio 2005/Projects/NewVision/NewVision/BodyPath.h</h1><a href="_body_path_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00010"></a>00010 <span class="preprocessor">#if !defined( BODYPATH_H )</span>
<a name="l00011"></a><a class="code" href="_body_path_8h.html#ee9df06bea0222317fa78eab45917ef3">00011</a> <span class="preprocessor"></span><span class="preprocessor">#define BODYPATH_H</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#pragma once</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span><span class="preprocessor">#include &lt;afxtempl.h&gt;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "cv.h"</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="keyword">class </span><a class="code" href="class_c_new_vision_doc.html">CNewVisionDoc</a>;
<a name="l00017"></a>00017 <span class="keyword">class </span><a class="code" href="class_floor_region.html">FloorRegion</a>;
<a name="l00018"></a>00018 <span class="comment">//using namespace System;</span>
<a name="l00019"></a>00019 
<a name="l00020"></a><a class="code" href="class_step.html">00020</a> <span class="keyword">class </span><a class="code" href="class_step.html">Step</a> {
<a name="l00021"></a>00021 <span class="keyword">public</span>:
<a name="l00022"></a><a class="code" href="class_step.html#3f66a321aa9c417352a75c85cff5aca5">00022</a>         <a class="code" href="class_step.html#3f66a321aa9c417352a75c85cff5aca5">Step</a>() {};
<a name="l00023"></a><a class="code" href="class_step.html#7fcdd3d5deb5dc9a238ef42163e871a2">00023</a>         <a class="code" href="class_step.html#3f66a321aa9c417352a75c85cff5aca5">Step</a>(CvPoint2D32f <a class="code" href="class_step.html#cee71a5b21eb7121b3d5ecf3870aa09f">p</a>, <span class="keywordtype">double</span> <a class="code" href="class_step.html#f869a83fb57ba750ae6c9103d127d14b">height</a>, <span class="keywordtype">double</span> <a class="code" href="class_step.html#bdf3231a39103252d2e9621426e883fa">width</a>, <span class="keywordtype">double</span> <a class="code" href="class_step.html#c07f35c6640b0304a21c83465047ec68">orientation</a>, <span class="keywordtype">double</span> <a class="code" href="class_step.html#2c01ee9101e7bea91a610536053de233">confidence</a>, <span class="keywordtype">bool</span> <a class="code" href="class_step.html#9a8755a76c56a3ee7950284d27ba3ac4">visible</a>) {
<a name="l00024"></a>00024                 this-&gt;p = p;
<a name="l00025"></a>00025                 this-&gt;height = height;
<a name="l00026"></a>00026                 this-&gt;width = width;
<a name="l00027"></a>00027                 this-&gt;orientation = orientation;
<a name="l00028"></a>00028                 this-&gt;confidence = confidence;
<a name="l00029"></a>00029                 this-&gt;visible = visible;
<a name="l00030"></a>00030         }
<a name="l00031"></a><a class="code" href="class_step.html#145ffb0ef4abd5734283f812892453a3">00031</a>         <a class="code" href="class_step.html">Step</a>&amp; <a class="code" href="class_step.html#145ffb0ef4abd5734283f812892453a3">operator=</a>(<span class="keyword">const</span> <a class="code" href="class_step.html">Step</a>&amp; that) {
<a name="l00032"></a>00032                 this-&gt;<a class="code" href="class_step.html#cee71a5b21eb7121b3d5ecf3870aa09f">p</a> = that.<a class="code" href="class_step.html#cee71a5b21eb7121b3d5ecf3870aa09f">p</a>;
<a name="l00033"></a>00033                 this-&gt;<a class="code" href="class_step.html#f869a83fb57ba750ae6c9103d127d14b">height</a> = that.<a class="code" href="class_step.html#f869a83fb57ba750ae6c9103d127d14b">height</a>;
<a name="l00034"></a>00034                 this-&gt;<a class="code" href="class_step.html#bdf3231a39103252d2e9621426e883fa">width</a> = that.<a class="code" href="class_step.html#bdf3231a39103252d2e9621426e883fa">width</a>;
<a name="l00035"></a>00035                 this-&gt;<a class="code" href="class_step.html#c07f35c6640b0304a21c83465047ec68">orientation</a> = that.<a class="code" href="class_step.html#c07f35c6640b0304a21c83465047ec68">orientation</a>;
<a name="l00036"></a>00036                 this-&gt;<a class="code" href="class_step.html#2c01ee9101e7bea91a610536053de233">confidence</a> = that.<a class="code" href="class_step.html#2c01ee9101e7bea91a610536053de233">confidence</a>;
<a name="l00037"></a>00037                 this-&gt;<a class="code" href="class_step.html#9a8755a76c56a3ee7950284d27ba3ac4">visible</a> = that.<a class="code" href="class_step.html#9a8755a76c56a3ee7950284d27ba3ac4">visible</a>;
<a name="l00038"></a>00038                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00039"></a>00039         }
<a name="l00040"></a>00040 
<a name="l00041"></a><a class="code" href="class_step.html#1533d2123b514ed2a4f080aa350b78a2">00041</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_step.html#1533d2123b514ed2a4f080aa350b78a2">Serialize</a>(CArchive&amp; ar) {
<a name="l00042"></a>00042                 <span class="keywordflow">if</span> (ar.IsStoring())     ar &lt;&lt; <a class="code" href="class_step.html#cee71a5b21eb7121b3d5ecf3870aa09f">p</a>.x &lt;&lt; <a class="code" href="class_step.html#cee71a5b21eb7121b3d5ecf3870aa09f">p</a>.y &lt;&lt; <a class="code" href="class_step.html#f869a83fb57ba750ae6c9103d127d14b">height</a> &lt;&lt; <a class="code" href="class_step.html#bdf3231a39103252d2e9621426e883fa">width</a> &lt;&lt; <a class="code" href="class_step.html#c07f35c6640b0304a21c83465047ec68">orientation</a> &lt;&lt; <a class="code" href="class_step.html#2c01ee9101e7bea91a610536053de233">confidence</a> &lt;&lt; <a class="code" href="class_step.html#9a8755a76c56a3ee7950284d27ba3ac4">visible</a>;
<a name="l00043"></a>00043                 <span class="keywordflow">else</span> ar &gt;&gt; <a class="code" href="class_step.html#cee71a5b21eb7121b3d5ecf3870aa09f">p</a>.x &gt;&gt; <a class="code" href="class_step.html#cee71a5b21eb7121b3d5ecf3870aa09f">p</a>.y &gt;&gt; <a class="code" href="class_step.html#f869a83fb57ba750ae6c9103d127d14b">height</a> &gt;&gt; <a class="code" href="class_step.html#bdf3231a39103252d2e9621426e883fa">width</a> &gt;&gt; <a class="code" href="class_step.html#c07f35c6640b0304a21c83465047ec68">orientation</a> &gt;&gt; <a class="code" href="class_step.html#2c01ee9101e7bea91a610536053de233">confidence</a> &gt;&gt; <a class="code" href="class_step.html#9a8755a76c56a3ee7950284d27ba3ac4">visible</a>;
<a name="l00044"></a>00044         }
<a name="l00045"></a><a class="code" href="class_step.html#cee71a5b21eb7121b3d5ecf3870aa09f">00045</a>         CvPoint2D32f <a class="code" href="class_step.html#cee71a5b21eb7121b3d5ecf3870aa09f">p</a>;
<a name="l00046"></a><a class="code" href="class_step.html#f869a83fb57ba750ae6c9103d127d14b">00046</a>         <span class="keywordtype">double</span> <a class="code" href="class_step.html#f869a83fb57ba750ae6c9103d127d14b">height</a>;
<a name="l00047"></a><a class="code" href="class_step.html#bdf3231a39103252d2e9621426e883fa">00047</a>         <span class="keywordtype">double</span> <a class="code" href="class_step.html#bdf3231a39103252d2e9621426e883fa">width</a>;
<a name="l00048"></a><a class="code" href="class_step.html#c07f35c6640b0304a21c83465047ec68">00048</a>         <span class="keywordtype">double</span> <a class="code" href="class_step.html#c07f35c6640b0304a21c83465047ec68">orientation</a>;
<a name="l00049"></a><a class="code" href="class_step.html#2c01ee9101e7bea91a610536053de233">00049</a>         <span class="keywordtype">double</span> <a class="code" href="class_step.html#2c01ee9101e7bea91a610536053de233">confidence</a>;
<a name="l00050"></a><a class="code" href="class_step.html#9a8755a76c56a3ee7950284d27ba3ac4">00050</a>         <span class="keywordtype">bool</span>   <a class="code" href="class_step.html#9a8755a76c56a3ee7950284d27ba3ac4">visible</a>;
<a name="l00051"></a>00051 };
<a name="l00052"></a>00052 <span class="comment">// --------------------------------------------------------------------------</span>
<a name="l00053"></a><a class="code" href="class_body_path.html">00053</a> <span class="keyword">class </span><a class="code" href="class_body_path.html">BodyPath</a> : <span class="keyword">public</span> <a class="code" href="class_c_array.html">CArray</a> &lt; Step &gt; 
<a name="l00054"></a>00054 {
<a name="l00055"></a>00055         DECLARE_SERIAL(<a class="code" href="class_body_path.html">BodyPath</a>)
<a name="l00056"></a>00056 <span class="keyword">public</span>:
<a name="l00057"></a><a class="code" href="class_body_path.html#a774cd54267ef25eacd0b7ed96510263">00057</a>         CMapStringToString      <a class="code" href="class_body_path.html#a774cd54267ef25eacd0b7ed96510263">tags</a>;                           <span class="comment">// stores manually added information tags</span>
<a name="l00058"></a><a class="code" href="class_body_path.html#f583e6f72b4e7368800c55e7123f15f3">00058</a>         <span class="keywordtype">int</span>                                     <a class="code" href="class_body_path.html#f583e6f72b4e7368800c55e7123f15f3">id</a>;                                     <span class="comment">// unique body id</span>
<a name="l00059"></a><a class="code" href="class_body_path.html#d86d62177febd0437885bbf763fe1a75">00059</a>         <span class="keywordtype">int</span>                                     <a class="code" href="class_body_path.html#d86d62177febd0437885bbf763fe1a75">startFrame</a>;                     <span class="comment">// number of start frame</span>
<a name="l00060"></a><a class="code" href="class_body_path.html#2f1a9d8c22d4ed53f3cb2857d9a4a7c0">00060</a>         <span class="keywordtype">bool</span>                            <a class="code" href="class_body_path.html#2f1a9d8c22d4ed53f3cb2857d9a4a7c0">isManual</a>;                       <span class="comment">// indicates if confidence was set manually</span>
<a name="l00061"></a><a class="code" href="class_body_path.html#60c49b1499d8609873c54f4c79a79b51">00061</a>         <span class="keywordtype">double</span>                          <a class="code" href="class_body_path.html#60c49b1499d8609873c54f4c79a79b51">manualConfidence</a>;       <span class="comment">// manually assigned confidence</span>
<a name="l00062"></a><a class="code" href="class_body_path.html#7e397e6100e98f78e49cb2705053dad8">00062</a>         <span class="keywordtype">double</span>                          <a class="code" href="class_body_path.html#7e397e6100e98f78e49cb2705053dad8">autoConfidence</a>;         <span class="comment">// automatically assigned confidence</span>
<a name="l00063"></a>00063 
<a name="l00064"></a>00064         <a class="code" href="class_body_path.html#751920e3d3f79f9d8d012630050e354d">BodyPath</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>, CvPoint2D32f p, <span class="keywordtype">int</span> <a class="code" href="class_body_path.html#d86d62177febd0437885bbf763fe1a75">startFrame</a>, <span class="keywordtype">double</span> height, <span class="keywordtype">double</span> width, <span class="keywordtype">double</span> orientation, <span class="keywordtype">double</span> confidence, <span class="keywordtype">bool</span> visible);
<a name="l00065"></a>00065         <a class="code" href="class_body_path.html#751920e3d3f79f9d8d012630050e354d">BodyPath</a>(<span class="keywordtype">void</span>);
<a name="l00066"></a>00066         <a class="code" href="class_body_path.html#751920e3d3f79f9d8d012630050e354d">BodyPath</a>(<span class="keyword">const</span> <a class="code" href="class_body_path.html">BodyPath</a>&amp; that);
<a name="l00067"></a>00067         <a class="code" href="class_body_path.html">BodyPath</a>&amp; <a class="code" href="class_body_path.html#d9fa15848fe531c10e141c76740766ea">operator=</a>(<span class="keyword">const</span> <a class="code" href="class_body_path.html">BodyPath</a>&amp; that);
<a name="l00068"></a>00068         
<a name="l00069"></a>00069         <span class="keyword">virtual</span> <a class="code" href="class_body_path.html#c55cbb1c7429bc14ad22a40291d34a63">~BodyPath</a>(<span class="keywordtype">void</span>);
<a name="l00070"></a>00070         <span class="keywordtype">void</span> <a class="code" href="class_body_path.html#e0f7ed7b3211da50eabf2dc72112cb23">Add</a>(CvPoint2D32f p, <span class="keywordtype">double</span> height, <span class="keywordtype">double</span> width, <span class="keywordtype">double</span> orientation, <span class="keywordtype">double</span> confidence, <span class="keywordtype">bool</span> visible);
<a name="l00071"></a>00071         <span class="keywordtype">void</span> <a class="code" href="class_body_path.html#b6946266cff109593e09d227cf988199">Draw</a>(IplImage* frame, CvScalar color, <a class="code" href="class_c_new_vision_doc.html">CNewVisionDoc</a>* doc, <span class="keywordtype">int</span> sigma=0);
<a name="l00072"></a>00072         <span class="keywordtype">void</span> <a class="code" href="class_body_path.html#af4428c73a9da7724c92b6074ec37752">DrawFloor</a>(IplImage* frame, CvScalar color, <a class="code" href="class_c_new_vision_doc.html">CNewVisionDoc</a>* doc, <span class="keywordtype">int</span> sigma=0);
<a name="l00073"></a>00073         <span class="keywordtype">void</span> <a class="code" href="class_body_path.html#62730466b7928c37f8d8e63062aa3b9f">DrawTrackFloor</a>(IplImage* frame, CvScalar color, <a class="code" href="class_c_new_vision_doc.html">CNewVisionDoc</a>* doc, <span class="keywordtype">int</span> sigma=0);
<a name="l00074"></a>00074         <span class="keywordtype">void</span> <a class="code" href="class_body_path.html#5a9b5a52cb674c2ba695ffa4d6c2cf52">DrawHeatMap</a>(IplImage* <a class="code" href="_globals_8cpp.html#a751ca4ad3088ff7eb927161c0615860">motionmap</a>, <a class="code" href="class_c_new_vision_doc.html">CNewVisionDoc</a>* doc);
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         <span class="keywordtype">double</span> <a class="code" href="class_body_path.html#7ffe9303686961bc7b2d749fae79592b">GetHeight</a>();
<a name="l00077"></a>00077         <span class="keywordtype">double</span> <a class="code" href="class_body_path.html#1a47ca0849f0c2d8488604fda7110238">GetWidth</a>();
<a name="l00078"></a>00078         <span class="keywordtype">double</span> <a class="code" href="class_body_path.html#1f0f434d80928a75745e7f28f01d948f">GetConfidence</a>(); <span class="comment">// get confidence as a mean of Step::confidence()</span>
<a name="l00079"></a>00079         <span class="keywordtype">double</span> <a class="code" href="class_body_path.html#edff4e97508d1265c08d07d685791435">Compare</a>(<a class="code" href="class_body_path.html">BodyPath</a>* that);
<a name="l00080"></a>00080         <span class="keywordtype">void</span> <a class="code" href="class_body_path.html#784b19f5ba6e0914bcf063e90bcf295a">Append</a>(<a class="code" href="class_body_path.html">BodyPath</a>* that);
<a name="l00081"></a>00081         <span class="keywordtype">void</span> <a class="code" href="class_body_path.html#c73c0b2850ed04f8a3cb0fb99ba81461">Merge</a>(<a class="code" href="class_body_path.html">BodyPath</a>* that, <span class="keywordtype">bool</span> fill=<span class="keyword">true</span>);
<a name="l00082"></a>00082         <span class="keywordtype">void</span> <a class="code" href="class_body_path.html#7a6ad8c0a3e31ae208a362a039438762">CutTail</a>(<span class="keywordtype">int</span> stopFrame);
<a name="l00083"></a>00083         <span class="keywordtype">void</span> <a class="code" href="class_body_path.html#e147aaa0cc387a399f3c73120d2a563e">CutHead</a>(<span class="keywordtype">int</span> <a class="code" href="class_body_path.html#d86d62177febd0437885bbf763fe1a75">startFrame</a>);
<a name="l00084"></a>00084         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_body_path.html#44f6ecb4f33a7a022042db943af9f0bb">Serialize</a>(CArchive&amp; ar);
<a name="l00085"></a>00085         
<a name="l00086"></a>00086         CvPoint2D32f <a class="code" href="class_body_path.html#1a42b1e3f81dce58b8da1a9b4bdd1960">Smooth</a>(<span class="keywordtype">int</span> n, <span class="keywordtype">int</span> sigma);
<a name="l00087"></a>00087         <span class="keywordtype">double</span> <a class="code" href="class_body_path.html#705b8b867e087716a016e43411f897af">GetMotionAngle</a>(<span class="keywordtype">int</span> nFrame, <span class="keywordtype">int</span> sigma);
<a name="l00088"></a>00088         <span class="keywordtype">bool</span> <a class="code" href="class_body_path.html#0a4fd2b9fafe69fbbee85f3e129d1fdb">ComputeDwellingState</a>(<span class="keywordtype">int</span> nFrame, <span class="keywordtype">int</span> sigma, <span class="keywordtype">int</span> dwellFrames, <span class="keywordtype">double</span> dwellAreaRadius);
<a name="l00089"></a>00089         <span class="keywordtype">bool</span> <a class="code" href="class_body_path.html#fecaf2ecf910ffb94594f4430cab320f">IsDwelling</a>(<span class="keywordtype">int</span> nFrame, <span class="keywordtype">int</span> sigma);
<a name="l00090"></a>00090         <span class="keywordtype">void</span> <a class="code" href="class_body_path.html#9d885c82e73ffd2b41922c8fe8ea44bd">GetDwellLocations</a>(<a class="code" href="class_c_array.html">CArray&lt;CvPoint2D32f&gt;</a> &amp;dwellLocation, <a class="code" href="class_c_array.html">CArray&lt;int&gt;</a> &amp;dwellFrame, <a class="code" href="class_c_array.html">CArray&lt;int&gt;</a> &amp;dwellDuration);
<a name="l00091"></a>00091         <span class="keywordtype">int</span> <a class="code" href="class_body_path.html#915d5a0b6f91448be0ad50907d17065d">GetLastVisibleFrame</a>();
<a name="l00092"></a>00092 
<a name="l00093"></a>00093         <span class="keywordtype">void</span>                    <a class="code" href="class_body_path.html#90b51a2eca0ac28f16146c4bd5b70f07">GetFirstAndLastVisible</a>(<span class="keywordtype">int</span> &amp;first, <span class="keywordtype">int</span> &amp;last);
<a name="l00094"></a>00094         System::String^ <a class="code" href="class_body_path.html#078eda25670f0973891508cfeb27f56e">ListVisibleSegments</a>();
<a name="l00095"></a>00095         <span class="keywordtype">void</span>                    <a class="code" href="class_body_path.html#078eda25670f0973891508cfeb27f56e">ListVisibleSegments</a>(<a class="code" href="class_c_array.html">CArray&lt;IntPair, IntPair&amp;&gt;</a> &amp;list);
<a name="l00096"></a>00096         <span class="keywordtype">void</span>                    <a class="code" href="class_body_path.html#38fc7c0ba300effa6c803c193704b492">ListZoneEvents</a>(<a class="code" href="class_floor_region.html">FloorRegion</a> *z, <a class="code" href="class_c_array.html">CArray&lt;IntPair, IntPair&amp;&gt;</a> &amp;list, <span class="keywordtype">int</span> outMax=0);
<a name="l00097"></a>00097         <span class="keywordtype">int</span>                             <a class="code" href="class_body_path.html#128d80b52a22f54943ddebf650e230dc">CountVisibleFrames</a>(<span class="keywordtype">int</span> f1=-1, <span class="keywordtype">int</span> f2=-1);
<a name="l00098"></a>00098         <span class="keywordtype">double</span>                  <a class="code" href="class_body_path.html#3f5b3d2e78f3b1dd25aa31aec3adc955">GetDistanceCovered</a>(<span class="keywordtype">int</span> f1=-1, <span class="keywordtype">int</span> f2=-1);
<a name="l00099"></a>00099         <span class="keywordtype">double</span>                  <a class="code" href="class_body_path.html#1fb802a9703df5dbe6cd17f3ac298e9c">GetAreaCovered</a>(<span class="keywordtype">int</span> f1=-1, <span class="keywordtype">int</span> f2=-1);
<a name="l00100"></a>00100         <span class="keywordtype">int</span>                             <a class="code" href="class_body_path.html#e55f2c9ac64f49dc9271415613769b34">BridgeInvisibleGaps</a>(<span class="keywordtype">int</span> maxLength);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 };
<a name="l00103"></a>00103 <span class="comment">// --------------------------------------------------------------------------</span>
<a name="l00104"></a>00104 <span class="preprocessor">#endif // !defined( BODYPATH_H )</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Apr 24 22:32:50 2007 for New Vision by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
