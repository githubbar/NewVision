<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>NewVision: hungarian.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.1 -->
<h1>hungarian.h</h1><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef HUNGARIAN_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define HUNGARIAN_H</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#pragma warning( disable : 4018 ) // disable signed/unsigned mismatch warning</span>
00005 <span class="preprocessor"></span>
00006 <span class="preprocessor">#ifdef __cplusplus</span>
00007 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00008 <span class="preprocessor">#endif</span>
00009 <span class="preprocessor"></span>
00010 <span class="preprocessor">#include &lt;sys/types.h&gt;</span> <span class="comment">// for size_t</span>
00011 <span class="preprocessor">#include &lt;string.h&gt;</span>
00012 
00013 <span class="comment">/* bzero is not always available (e.g., in Win32) */</span>
00014 <span class="preprocessor">#ifndef bzero</span>
00015 <span class="preprocessor"></span><span class="preprocessor">  #define bzero(b,len) (memset((b), '\0', (len)), (void) 0)</span>
00016 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00017 <span class="preprocessor"></span>
00018 <span class="comment">/* are we maximizing or minimizing? */</span>
00019 <span class="preprocessor">#define HUNGARIAN_MIN 0</span>
00020 <span class="preprocessor"></span><span class="preprocessor">#define HUNGARIAN_MAX 1</span>
00021 <span class="preprocessor"></span>
00022 <span class="comment">/*</span>
00023 <span class="comment"> * a simple linked list</span>
00024 <span class="comment"> */</span>
00025 <span class="keyword">typedef</span> <span class="keyword">struct</span>
00026 <span class="keyword"></span>{
00027   <span class="keywordtype">int</span>* i;
00028   <span class="keywordtype">int</span>* j;
00029   <span class="keywordtype">int</span> k;
00030 } hungarian_sequence_t;
00031 
00032 <span class="comment">/*</span>
00033 <span class="comment"> * we'll use objects of this type to keep track of the state of the problem</span>
00034 <span class="comment"> * and its solution</span>
00035 <span class="comment"> */</span>
00036 <span class="keyword">typedef</span> <span class="keyword">struct</span>
00037 <span class="keyword"></span>{
00038   size_t m,n;  <span class="comment">// problem dimensions</span>
00039   <span class="keywordtype">double</span>** r;     <span class="comment">// the rating (utility) matrix</span>
00040   <span class="keywordtype">double</span>** q;     <span class="comment">// the Q matrix</span>
00041   <span class="keywordtype">double</span>* u;      <span class="comment">// the U vector</span>
00042   <span class="keywordtype">double</span>* v;      <span class="comment">// the V vector</span>
00043   <span class="keywordtype">double</span>* ess_rows; <span class="comment">// list of essential rows</span>
00044   <span class="keywordtype">double</span>* ess_cols; <span class="comment">// list of essential columns</span>
00045   hungarian_sequence_t seq; <span class="comment">// sequence of i's and j's</span>
00046   <span class="keywordtype">double</span> row_total, col_total; <span class="comment">// row and column totals</span>
00047   <span class="keywordtype">int</span>* a;  <span class="comment">// assignment vector</span>
00048   <span class="keywordtype">double</span> maxutil;  <span class="comment">// maximum utility</span>
00049   <span class="keywordtype">int</span> mode; <span class="comment">// are we maximizing or minimizing?</span>
00050 } hungarian_t;
00051 
00052 <span class="comment">/*</span>
00053 <span class="comment"> * initialize the given object as an mXn problem.  allocates storage, which</span>
00054 <span class="comment"> * should be freed with hungarian_fini().</span>
00055 <span class="comment"> */</span>
00056 <span class="keywordtype">void</span> hungarian_init(hungarian_t* prob, <span class="keywordtype">double</span>* r, size_t m, size_t n, <span class="keywordtype">int</span> mode);
00057 
00058 <span class="comment">/*</span>
00059 <span class="comment"> * frees storage associated with the given problem object.  you must have</span>
00060 <span class="comment"> * called hungarian_init() first.</span>
00061 <span class="comment"> */</span>
00062 <span class="keywordtype">void</span> hungarian_fini(hungarian_t* prob);
00063 
00064 <span class="comment">/*</span>
00065 <span class="comment"> * solve the given problem.  runs the Hungarian Method on the rating matrix</span>
00066 <span class="comment"> * to produce optimal assignment, which is stored in the vector prob-&gt;a.</span>
00067 <span class="comment"> * you must have called hungarian_init() first.</span>
00068 <span class="comment"> */</span>
00069 <span class="keywordtype">void</span> hungarian_solve(hungarian_t* prob);
00070 
00071 <span class="comment">/*</span>
00072 <span class="comment"> * prints out the resultant assignment in a 0-1 matrix form.  also computes</span>
00073 <span class="comment"> * and prints out the benefit from the assignment.  you must have called</span>
00074 <span class="comment"> * hungarian_solve() first.</span>
00075 <span class="comment"> */</span>
00076 <span class="keywordtype">void</span> hungarian_print_assignment(hungarian_t* prob);
00077 
00078 <span class="comment">/*</span>
00079 <span class="comment"> * prints out the rating matrix for the given problem.  you must have called</span>
00080 <span class="comment"> * hungarian_solve() first.</span>
00081 <span class="comment"> */</span>
00082 <span class="keywordtype">void</span> hungarian_print_rating(hungarian_t* prob);
00083 
00084 <span class="comment">/*</span>
00085 <span class="comment"> * check whether an assigment is feasible.  returns 1 if the assigment is</span>
00086 <span class="comment"> * feasible, 0 otherwise.  you must have called hungarian_solve() first.</span>
00087 <span class="comment"> */</span>
00088 <span class="keywordtype">int</span> hungarian_check_feasibility(hungarian_t* prob);
00089 
00090 <span class="comment">/*</span>
00091 <span class="comment"> * computes and returns the benefit from the assignment.  you must have</span>
00092 <span class="comment"> * called hungarian_solve() first.</span>
00093 <span class="comment"> */</span>
00094 <span class="keywordtype">double</span> hungarian_benefit(hungarian_t* prob);
00095 
00096 <span class="preprocessor">#ifdef __cplusplus</span>
00097 <span class="preprocessor"></span>}
00098 <span class="preprocessor">#endif</span>
00099 <span class="preprocessor"></span>
00100 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>
Generated on Sun Mar 27 17:26:32 2005 for NewVision by <a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.3.1 using KingsTools</small></address>
</body>
</html>
